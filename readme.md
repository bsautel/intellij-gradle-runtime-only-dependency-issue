This project is a sample project that demonstrates the [IDEA-201213](https://youtrack.jetbrains.com/issue/IDEA-201213/Gradle-with-delegate-actions-to-gradle-enabled-does-not-compile-runtimeOnly-dependencies-when-running-run-configuration) issue on Spring projects.

This issue affects multi-project Gradle projects using the runtime only dependency. In this example we have a project that defines an API and another project that provides its implementation. We want the implementation to be discovered at runtime (service discovery mechanism, dependency injector or whatever) and thus provide the implementation as a Gradle runtime only dependency.

In a Gradle project using the default Gradle configuration in IntelliJ (delegate to Gradle), running the main class does delegate the action to Gradle and the dependencies (including the runtime only) are compiled by Gradle (if not up-to-date) before running the application. If we change anything in the implementation (the name in this example), it is taken into account, whether we run it via IntelliJ or via the `:java:run` Gradle task. 

But in a Spring project (still using the default Gradle configuration that delegates to Gradle), IntelliJ does not delegate the run to Gradle. Before running, it asks Gradle to compile all the required projects but forgets the runtime only dependencies. It does add the runtime only dependency when running the application, but the runtime only dependencies are out of date if their code changed since the latest build. This does not happen when running the application using the `:spring-boot:bootRun` Gradle task (which compiles all the dependencies including the runtime only ones).

This issue is very annoying because it requires to force the build of the project before running it to get the changes being taken into account. We don't usually have to worry about the build when running a project, so we are not used to do that and, even when being aware of this bug, it can make lose a lot of time when the changes in the code are not taken into account (it requires to understand that it's not the change that does not work but that is simply not taken into account and then remind that there is this issue and thus manually build).

I am using the latest Gradle version (8.4) and IntelliJ IDEA 2023.2.5 (Ultimate Edition).

Note: the issue [IDEA-241233](https://youtrack.jetbrains.com/issue/IDEA-241233/Implement-running-Spring-Boot-Run-Configuration-via-Gradle-task-when-Delegate-to-Gradle-option-is-enabled) seems to mean that when running a Spring Boot, IntelliJ should delegate it to Gradle but that does not seem to be the case. And even we don't delegate the run action to Gradle, IntelliJ should ensure that everything that is required at runtime (including the runtime only dependencies) are compiled before starting the application.
